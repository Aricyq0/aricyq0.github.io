<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aricyq0.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 04 é›†çš„ç›¸å…³ç¬”è®°ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Stanford cs193p 04ï½œMVVM åº”ç”¨">
<meta property="og:url" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/index.html">
<meta property="og:site_name" content="Serein">
<meta property="og:description" content="æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 04 é›†çš„ç›¸å…³ç¬”è®°ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_newFile.png">
<meta property="og:image" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_static-let-orange.jpg">
<meta property="og:image" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_biggerEmoji.png">
<meta property="og:image" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_mark.png">
<meta property="article:published_time" content="2024-12-09T03:47:02.000Z">
<meta property="article:modified_time" content="2025-04-01T04:04:40.838Z">
<meta property="article:author" content="Serein">
<meta property="article:tag" content="cs193p">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_newFile.png">

<link rel="canonical" href="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Stanford cs193p 04ï½œMVVM åº”ç”¨ | Serein</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Serein</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/aricyq0" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.JPEG">
      <meta itemprop="name" content="Serein">
      <meta itemprop="description" content="Crazy learning, crazy sharing.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serein">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Stanford cs193p 04ï½œMVVM åº”ç”¨
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-12-09 11:47:02" itemprop="dateCreated datePublished" datetime="2024-12-09T11:47:02+08:00">2024-12-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-04-01 12:04:40" itemprop="dateModified" datetime="2025-04-01T12:04:40+08:00">2025-04-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/swift/" itemprop="url" rel="index"><span itemprop="name">swift</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="far fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>16k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>15 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 04 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<blockquote>
<p>æœ¬æ–‡ä¸»è¦å†…å®¹è½¬è½½äºï¼š<a target="_blank" rel="noopener" href="https://nwdan.com/my-learning/stanford-cs193p-4.html">é—»è€…é€šè¾¾çš„ä¸ªäººåšå®¢</a></p>
</blockquote>
<p>cs193p è¯¾ç¨‹ä»‹ç»:</p>
<blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<p>cs193p è¯¾ç¨‹ç½‘å€: <a target="_blank" rel="noopener" href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></p>
<p>ä¸ºä¾¿äºæ¢³ç†ï¼Œæœ¬èŠ‚ç¬”è®°åŒ…å«äº†ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿã€ç¬¬å››èŠ‚è¯¾ä»¥åŠç¬¬äº”èŠ‚è¯¾å‰å››åˆ†é’Ÿçš„å†…å®¹ã€‚</p>
<hr>
<h2 id="1-ç¬¬ä¸‰èŠ‚è¯¾æœ€å-15-åˆ†é’Ÿ"><a href="#1-ç¬¬ä¸‰èŠ‚è¯¾æœ€å-15-åˆ†é’Ÿ" class="headerlink" title="1. ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿ"></a>1. ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿ</h2><h3 id="1-1-æ•´ç†ä»£ç "><a href="#1-1-æ•´ç†ä»£ç " class="headerlink" title="1.1 æ•´ç†ä»£ç "></a>1.1 æ•´ç†ä»£ç </h3><p>æˆ‘ä»¬åœ¨åº”ç”¨ MVVM è®¾è®¡æ€æƒ³å‰éœ€è¦æ¸…ç†ä¸€ä¸‹ä»£ç ã€‚</p>
<p>ç§»é™¤ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> cardCount: <span class="type">Int</span> <span class="operator">=</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cardCountAdjsters: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        cardRemover</span><br><span class="line">        <span class="type">Spacer</span>()</span><br><span class="line">        cardAdder</span><br><span class="line">    &#125;</span><br><span class="line">    .imageScale(.large)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">cardCountAdjsters</span>(<span class="params">by</span> <span class="params">offset</span>: <span class="type">Int</span>, <span class="params">symbol</span>: <span class="type">String</span>) -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(action: &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> offset</span><br><span class="line">    &#125;, label: &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: symbol)</span><br><span class="line">    &#125;)</span><br><span class="line">    .disabled(cardCount <span class="operator">+</span> offset <span class="operator">&lt;</span> <span class="number">1</span> <span class="operator">||</span> cardCount <span class="operator">+</span> offset <span class="operator">&gt;</span> emojis.count)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardRemover: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjsters(by: <span class="operator">-</span><span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardAdder: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjsters(by: <span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹æˆä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">...</span></span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            cardCountAdjsters</span><br><span class="line">        &#125;</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="comment">// change to</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            cards</span><br><span class="line">        &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">            <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line"><span class="comment">// change to</span></span><br><span class="line">            <span class="type">ForEach</span>(emojis.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-æ–°å»ºä¸€ä¸ª-Model-æ–‡ä»¶"><a href="#1-2-æ–°å»ºä¸€ä¸ª-Model-æ–‡ä»¶" class="headerlink" title="1.2 æ–°å»ºä¸€ä¸ª Model æ–‡ä»¶"></a>1.2 æ–°å»ºä¸€ä¸ª Model æ–‡ä»¶</h3><p><code>File</code> -&gt; <code>New</code> -&gt; <code>File</code> -&gt; <code>Swift File</code>, å¹¶å°†æ–‡ä»¶å‘½åä¸º MemorizeGame</p>
<p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_newFile.png"></p>
<p><strong>å®ç°ï¼ˆå†™ï¼‰ä¸€ä¸ª MemorizeGame (Model):</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Card</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span></span><br><span class="line">        <span class="keyword">var</span> isMatched: <span class="type">Bool</span></span><br><span class="line">        <span class="keyword">var</span> content: <span class="type">CardContent</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-æ–°å»ºä¸€ä¸ª-ViewModel-æ–‡ä»¶"><a href="#1-3-æ–°å»ºä¸€ä¸ª-ViewModel-æ–‡ä»¶" class="headerlink" title="1.3 æ–°å»ºä¸€ä¸ª ViewModel æ–‡ä»¶"></a>1.3 æ–°å»ºä¸€ä¸ª ViewModel æ–‡ä»¶</h3><p><code>File</code> -&gt; <code>New</code> -&gt; <code>File</code> -&gt; <code>Swift File</code>, then named as EmojiMemoryGame</p>
<p><strong>å®ç°ï¼ˆå†™ï¼‰ä¸€ä¸ª MemorizeGame (ViewModel):</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-ç¬¬å››èŠ‚è¯¾"><a href="#2-ç¬¬å››èŠ‚è¯¾" class="headerlink" title="2. ç¬¬å››èŠ‚è¯¾"></a>2. ç¬¬å››èŠ‚è¯¾</h2><h3 id="2-1-è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»"><a href="#2-1-è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»" class="headerlink" title="2.1 è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»"></a>2.1 è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»</h3><h4 id="2-1-1-éƒ¨åˆ†åˆ†ç¦»"><a href="#2-1-1-éƒ¨åˆ†åˆ†ç¦»" class="headerlink" title="2.1.1 éƒ¨åˆ†åˆ†ç¦»"></a>2.1.1 éƒ¨åˆ†åˆ†ç¦»</h4><p>æˆ‘ä»¬æ¥çœ‹çœ‹ MVVM æ–‡ä»¶:</p>
<p><strong>View:</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ContentView.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Model:</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ViewModel:</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬ç°åœ¨ä»ç„¶å¯ä»¥åœ¨ <code>View</code> ä¸­é€šè¿‡ <code>viewModel.model.xxx</code> ç›´æ¥ä» View è®¿é—® Modelï¼Œå› æ­¤è¿™æ˜¯éƒ¨åˆ†åˆ†ç¦»æ¨¡å¼ã€‚</p>
<h4 id="2-1-2-å®Œå…¨åˆ†ç¦»"><a href="#2-1-2-å®Œå…¨åˆ†ç¦»" class="headerlink" title="2.1.2 å®Œå…¨åˆ†ç¦»"></a>2.1.2 å®Œå…¨åˆ†ç¦»</h4><p>å¦‚æœæˆ‘ä»¬æƒ³é¿å… View ç›´æ¥è®¿é—® Modelï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å…³é”®å­— <code>private</code> æ¥å®ç°ã€‚è¿™è¢«ç§°ä¸ºå®Œå…¨åˆ†ç¦»ã€‚</p>
<p>ä¿®æ”¹ <strong>ViewModel</strong>:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£æˆ‘ä»¬ç°åœ¨å¦‚ä½•è®¿é—® model å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦ä¿®æ”¹ ViewModel è®©å®ƒå¯ä»¥è¢«è®¿é—®ã€‚</p>
<p>è¿™æ˜¯ä¿®æ”¹è¿‡åçš„ <strong>ViewModel</strong>:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">	<span class="comment">// private ä½¿å¾— View æ— æ³•ç›´æ¥è®¿é—® modelï¼›è¿™é‡Œæ„å‘³ç€åœ¨ ViewModel ä¸­ä½¿ç”¨ Model</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åœ¨ ViewModel ä¸­è®¿é—® model ä¸­çš„æ•°æ® cards</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> model.cards</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åœ¨ ViewModel ä¸­å®ç°å¯¹ model ä¸­çš„ card çš„ choose æ“ä½œ</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        model.choose(card: card)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="private-set"><a href="#private-set" class="headerlink" title="private(set)"></a>private(set)</h5><p>å¯¹åº”çš„åœ¨ <code>Model</code> ä¸­åº”è¯¥æ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ</p>
<p><code>private(set)</code> å…³é”®å­—å…è®¸å…¶ä»–å‡½æ•°åªèƒ½è¯»ï¼Œä½†ä¸å¯ä»¥ä¿®æ”¹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-ViewModel-æ–¹æ³•è¡¥å……å’Œ-Model-å¯¹åº”ä¿®æ”¹"><a href="#2-2-ViewModel-æ–¹æ³•è¡¥å……å’Œ-Model-å¯¹åº”ä¿®æ”¹" class="headerlink" title="2.2 ViewModel æ–¹æ³•è¡¥å……å’Œ Model å¯¹åº”ä¿®æ”¹"></a>2.2 ViewModel æ–¹æ³•è¡¥å……å’Œ Model å¯¹åº”ä¿®æ”¹</h3><h4 id="2-2-1-Model-çš„-choose-å‡½æ•°å£°æ˜å’Œ-ViewModel-çš„-choose-å‡½æ•°å£°æ˜è°ƒç”¨"><a href="#2-2-1-Model-çš„-choose-å‡½æ•°å£°æ˜å’Œ-ViewModel-çš„-choose-å‡½æ•°å£°æ˜è°ƒç”¨" class="headerlink" title="2.2.1 Model çš„ choose å‡½æ•°å£°æ˜å’Œ ViewModel çš„ choose å‡½æ•°å£°æ˜è°ƒç”¨"></a>2.2.1 <code>Model</code> çš„ choose å‡½æ•°å£°æ˜å’Œ <code>ViewModel</code> çš„ choose å‡½æ•°å£°æ˜è°ƒç”¨</h4><h5 id="å¿½ç•¥å‡½æ•°æ ‡ç­¾-No-External-Name"><a href="#å¿½ç•¥å‡½æ•°æ ‡ç­¾-No-External-Name" class="headerlink" title="å¿½ç•¥å‡½æ•°æ ‡ç­¾ (No External Name)"></a>å¿½ç•¥å‡½æ•°æ ‡ç­¾ (No External Name)</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        model.choose(card)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>choose</code>å‡½æ•°åœ¨è¢«å¤–éƒ¨è°ƒç”¨åä¸éœ€è¦æœ‰å¤–éƒ¨ç§°å‘¼ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åœ¨ä¸€äº›æƒ…å†µä¸‹ä¸éœ€è¦çœç•¥å¤–éƒ¨ç§°å‘¼ï¼š</p>
<ol>
<li>æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ•´æ•°ï¼Œæˆ–ä¸ç¡®å®šçš„ã€‚</li>
<li>æ·»åŠ å¤–éƒ¨ç§°å‘¼å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§ã€‚</li>
</ol>
<h4 id="2-2-2-Model-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ-ViewModel-ç±»åˆå§‹åŒ–"><a href="#2-2-2-Model-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ-ViewModel-ç±»åˆå§‹åŒ–" class="headerlink" title="2.2.2 Model ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ ViewModel ç±»åˆå§‹åŒ–"></a>2.2.2 <code>Model</code> ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ <code>ViewModel</code> ç±»åˆå§‹åŒ–</h4><p>ç±»åˆå§‹å€¼è®¾å®šé¡¹æ²¡æœ‰å‚æ•°ï¼Œå¹¶ä¸”ä»…å½“æ‰€æœ‰å˜é‡éƒ½æœ‰é»˜è®¤å€¼æ—¶æ‰èµ·ä½œç”¨ã€‚ æˆ‘ä»¬æ¥ä¸‹æ¥å¼€å§‹å†™ <strong>ViewModel</strong> (EmojiMemoryGame.swift) åˆå§‹åŒ–å‡½æ•°ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬æƒ³è¦é€šè¿‡ç”¨ <code>numberOfPairsOfCards</code> å’Œ <code>cardContentFactory</code> æ¥åˆå§‹åŒ– <strong>Model</strong> (MemoryGame.swift)ã€‚å› æ­¤æˆ‘ä»¬å…ˆéœ€è¦è‡ªå®šä¹‰ <strong>Model</strong> çš„åˆå§‹åŒ–å‡½æ•°ã€‚ï¼ˆè¿™ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨å¡ç‰‡æ•°ï¼Œä»¥åŠé€šè¿‡å¡ç‰‡ç´¢å¼•è·å–å¡ç‰‡å†…å®¹çš„å‡½æ•°ï¼‰</p>
<h5 id="Model-åˆå§‹åŒ–å™¨"><a href="#Model-åˆå§‹åŒ–å™¨" class="headerlink" title="Model åˆå§‹åŒ–å™¨"></a><code>Model</code> åˆå§‹åŒ–å™¨</h5><h6 id="1-For-å¾ªç¯"><a href="#1-For-å¾ªç¯" class="headerlink" title="1. For å¾ªç¯"></a><strong>1. For å¾ªç¯</strong></h6><p>æˆ‘ä»¬æƒ³è¦å¯¹æ¯å¼ åŸå¡ç‰‡ï¼Œå¡ç‰‡ç»„ä¸­éƒ½ä¼šæœ‰ä¸¤å¼ å­˜åœ¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>_</code> æ¥å¿½ç•¥å¾ªç¯çš„ç´¢å¼•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Use _ to ignore the pairIndex</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>XXXX</code> ä»£è¡¨çš„æ˜¯ <code>cardContentFactory</code> é€šè¿‡ <code>pairIndex</code> ç´¢å¼•è·å–åˆ°çš„å¡ç‰‡å†…å®¹ã€‚ä¸‹è¾¹ä¼šè®²å¦‚ä½•ä½¿ç”¨é—­åŒ…æ¥å®ç°è¯¥å‡½æ•°ã€‚</p>
<h6 id="2-é—­åŒ…è¯­æ³•"><a href="#2-é—­åŒ…è¯­æ³•" class="headerlink" title="2. é—­åŒ…è¯­æ³•"></a><strong>2. é—­åŒ…è¯­æ³•</strong></h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">cardContentFactory</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>) &#123;</span><br><span class="line">        cards <span class="operator">=</span> []</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add numberOfParisOfCards x 2 cards</span></span><br><span class="line">        <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">            <span class="keyword">let</span> content <span class="operator">=</span> cardContentFactory(pairIndex)</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åœ¨-ViewModel-ä¸­åˆå§‹åŒ–-Model-å˜é‡"><a href="#åœ¨-ViewModel-ä¸­åˆå§‹åŒ–-Model-å˜é‡" class="headerlink" title="åœ¨ ViewModel ä¸­åˆå§‹åŒ– Model å˜é‡"></a>åœ¨ <code>ViewModel</code> ä¸­åˆå§‹åŒ– <code>Model</code> å˜é‡</h5><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ– <code>model</code> å˜é‡ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">createCardContent</span>(<span class="params">forPairAtIndex</span> <span class="params">index</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: createCardContent</span><br><span class="line">    )</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>MemoryGame</code> åˆå§‹åŒ–å™¨çš„ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¥å—æ•´æ•°å¹¶è¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚<code>createCardContent</code> æ˜¯ä¸€ä¸ªæ¥å—æ•´æ•°å¹¶è¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å®ƒä¼ å…¥ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>é—­åŒ…è¯­æ³•</strong>è®©å®ƒæ›´å˜å¾—æ›´ç®€æ´ä¸€äº›ï¼šå°† <code>createCardContent</code> å‡½æ•°å†…å®¹ç§»å…¥ç±»åˆå§‹åŒ–å‚æ•° <code>cardContentFactory</code> åï¼Œå¹¶å°†å‡½æ•°å¤§æ‹¬å· <code>&#123;&#125;</code> æ›¿æ¢ä¸º <code>in</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: &#123; (index: <span class="type">Int</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"><span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äº<strong>ç±»å‹æ¨æ–­</strong>ï¼Œè¾“å…¥å‚æ•°ä¸º <code>Int</code> ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ç±»å‹å£°æ˜ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å¯æŒ‰ä½ optionï¼Œå¹¶ click æŸ¥çœ‹ <code>Index</code> æ¨æ–­çš„ç±»å‹ä¸º <code>Int</code>ã€‚ç±»å‹æ¨æ–­åœ¨ç¬¬äºŒèŠ‚æœ‰è¯´æ˜ï¼š<a href="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/" title="Stanford cs193p 02 | More SwiftUI">Stanford cs193p 02 | More SwiftUI</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"><span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ï¼Œç”±äº <code>cardContentFactory</code> æ˜¯è¿™ä¸ªå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>å°¾éšé—­åŒ…</strong>ï¼š</p>
<blockquote>
<p>å°¾éšé—­åŒ…åœ¨ç¬¬äºŒèŠ‚ç¬”è®°ä¸­æœ‰è¯´æ˜ï¼š<a href="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/" title="Stanford cs193p 02 | More SwiftUI">Stanford cs193p 02 | More SwiftUI</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="1-0"><a href="#1-0" class="headerlink" title="1. $0"></a><strong>1. $0</strong></h6><p>$0 æ˜¯ä¸€ä¸ªç”¨äºè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°çš„ç‰¹æ®Šå ä½ç¬¦ï¼Œè¿™é‡Œå¯ä½¿ç”¨ <code>$0</code> æ›¿ä»£ <code>index</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="comment">// If we use $0</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; <span class="variable">$0</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][<span class="variable">$0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h6 id="2-é™æ€å˜é‡å’Œå‡½æ•°"><a href="#2-é™æ€å˜é‡å’Œå‡½æ•°" class="headerlink" title="2. é™æ€å˜é‡å’Œå‡½æ•°"></a><strong>2. é™æ€å˜é‡å’Œå‡½æ•°</strong></h6><p>å€˜è‹¥ï¼Œæˆ‘ä»¬è¿˜æƒ³ç®€åŒ–è¿™ä¸ªç±»çš„åˆå§‹åŒ–ï¼Œæƒ³å°†è¿™ä¸ªè¡¨æƒ…æ•°ç»„æå–ä¸ºä¸€ä¸ªå˜é‡ <code>emojis</code> ä½¿ç”¨ï¼Œ ä»¥ä¸‹ä»£ç  XCode ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>é”™è¯¯ä¿¡æ¯æ˜¯ â€œCannot use instance member â€˜emojisâ€™ within property initializer; property initializers run before â€˜selfâ€™ is availableâ€. <code>emojis</code> å’Œ <code>model</code> è¢«ç§°ä¸º property initializerã€‚<strong>ç”±äº property initialized çš„è¿è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ (ä¸æ˜¯æºä»£ç çš„é¡ºåº)ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå…ˆåˆå§‹åŒ– modelï¼Œä½†æ­¤æ—¶ emojis è¿˜æœªè¢«åˆå§‹åŒ–ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªåˆå§‹åŒ–å˜é‡å»åˆå§‹åŒ–å¦ä¸€ä¸ªã€‚</strong></p>
<p>é‚£ä¹ˆæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p>
<p><strong>ç¬¬ä¸€ç§æ–¹æ³•ï¼šå°† emojis è®¾ç½®ä¸ºä¸€ä¸ªå…¨å±€å˜é‡</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// EmojiMemoryGame.emojis[pairIndex]</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ä¼šæ±¡æŸ“å‘½åç©ºé—´ï¼Œå¯èƒ½ä¼šä¸å…¶ä»–å˜é‡æˆ–å¸¸é‡å‘ç”Ÿå‘½åå†²çªï¼Œéš¾ä»¥è°ƒè¯•ã€‚è€Œä¸”å…¨å±€å˜é‡å¯ä»¥åœ¨ä»»æ„ä½ç½®è¢«ä¿®æ”¹ï¼Œ<code>View</code> å’Œ <code>Model</code> ä¸­éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå¯¼è‡´ä»£ç å¾ˆéš¾ç†è§£ï¼Œå› ä¸ºå˜é‡çš„çŠ¶æ€å¯èƒ½åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¢«ä¿®æ”¹ã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†ä½¿å®ƒå…·æœ‰å¯å°è£…æ€§ï¼Œè¿˜æ˜¯å¾—å°†å®ƒæ”¾å›ç±» <code>class</code> ä¸­ã€‚</p>
<p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼šä½¿ç”¨å…³é”®å­— <code>static</code> æ¥è§£å†³</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³é”®å­— <code>static</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥è®© <code>emojis</code> å˜ä¸ºå…¨å±€å˜é‡ (äº‹å®ä¸Šè¢«ç§°ä¸º type variable) ä½†ä»…é™äºè¿™ä¸ªç±»çš„å†…éƒ¨è®¿é—®ã€‚è€Œä¸”å…¨å±€å˜é‡ä¼šè¢«ä¼˜å…ˆåˆå§‹åŒ–ï¼Œä¸ç”¨æ‹…å¿ƒåˆå§‹åŒ–å˜é‡çš„é¡ºåºé—®é¢˜ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">EmojiMemoryGame</span>.emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p><code>private</code> åˆ™å¯ä»¥è®²è¿™ä¸ªå˜é‡é™åˆ¶åœ¨ <code>class</code> å†…éƒ¨ä½¿ç”¨ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®æˆ–ä¿®æ”¹ã€‚æ­¤æ—¶ä¸å†éœ€è¦ <code>EmojiMemoryGame</code> æ¥è°ƒç”¨ <code>emojis</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// EmojiMemoryGame.emojis[pairIndex]</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šç°åœ¨ <code>emojis</code> çš„å…¨åå…¶å®æ˜¯ <code>EmojiMemoryGame.emojis</code>.</p>
</blockquote>
<p>æˆ‘ä»¬ç°åœ¨å°†ä¸Šé¢çš„å˜é‡å˜æˆä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå­˜åœ¨ model é‡Œï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä¼šæœ‰ä¸€å †é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å°†å‡½æ•°æ ‡è®°ä¸º <code>static</code> å¹¶å¢åŠ è¿”å›ç±»å‹ã€‚<strong>Swift æ˜¯ä¸å¯ä»¥æ¨æ–­è¿”å›ç±»å‹çš„ã€‚</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h6 id="3-â€œ-thingâ€"><a href="#3-â€œ-thingâ€" class="headerlink" title="3. â€œ.thingâ€"></a><strong>3. â€œ.thingâ€</strong></h6><blockquote>
<p>æ­¤å¤„ <code>.thing</code> æ˜¯è¡¥å……è¯´æ˜ <code>privat static</code>ï¼Œå¹¶ä¸æ¶‰åŠ <code>ViewModel</code> å’Œ <code>Model</code> çš„å®ç°</p>
</blockquote>
<p>å½“æˆ‘ä»¬çœ‹åˆ° â€œ.ä¸€ä¸ªä¸œè¥¿â€æ—¶, å®ƒåªæœ‰å¯èƒ½æ˜¯é™æ€å˜é‡æˆ–è€…æšä¸¾ç±»å‹ <code>enum</code>ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ContentView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line">.foregroundColor(.orange)</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ä»£ç ä¸­å‘ç°äº†ä¸€ä¸ª <code>.orange</code> ï¼Œå®ƒå®é™…ä¸ <code>Color.orange</code> çš„å«ä¹‰å®Œå…¨ç›¸åŒã€‚æˆ‘ä»¬å†æ‰“å¼€ Swift çš„å¼€å‘è€…æ–‡æ¡£ï¼š<br><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_static-let-orange.jpg"></p>
<p><code>.orange</code>ã€<code>.pink</code> å’Œ <code>.purple</code> éƒ½æ˜¯é™æ€ <code>static</code> å˜é‡ã€‚</p>
<h4 id="2-2-3-é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•"><a href="#2-2-3-é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•" class="headerlink" title="2.2.3 é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•"></a>2.2.3 é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è®¿é—®æ•°ç»„æ—¶ä¸èƒ½è¶…å‡ºç´¢å¼•ï¼Œå› æ­¤éœ€è¦æ–°å¢ä¸€äº›é€»è¾‘ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> emojis.indices.contains(pairIndex) &#123;</span><br><span class="line">                <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;â‰ï¸&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åŒæ—¶å¸Œæœ›æœ‰è‡³å°‘ 4 å¼ å¡ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">cardContentFactory</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>) &#123;</span><br><span class="line">        cards <span class="operator">=</span> []</span><br><span class="line">        <span class="comment">// add numberOfParisOfCards x 2 cards</span></span><br><span class="line">        <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="built_in">max</span>(<span class="number">2</span>, numberOfPairsOfCards) &#123;</span><br><span class="line">            <span class="keyword">let</span> content <span class="operator">=</span> cardContentFactory(pairIndex)</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-åœ¨-View-ä¸­ä½¿ç”¨-ViewModel"><a href="#2-3-åœ¨-View-ä¸­ä½¿ç”¨-ViewModel" class="headerlink" title="2.3 åœ¨ View ä¸­ä½¿ç”¨ ViewModel"></a>2.3 åœ¨ View ä¸­ä½¿ç”¨ ViewModel</h3><blockquote>
<p>æ³¨æ„: æˆ‘ä»¬å°† ContentView.swift æ–‡ä»¶é‡å‘½åä¸ºäº† EmojiMemoryGameView.swift</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(emojis.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">String</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="type">Group</span> &#123;</span><br><span class="line">                base.fill(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(content).font(.largeTitle)</span><br><span class="line">            &#125;</span><br><span class="line">            .opacity(isFaceUp <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            base.fill().opacity(isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨éœ€è¦å¾ªç¯å¡ç‰‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.cards.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(card: viewModel.cards[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> card: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="type">Group</span> &#123;</span><br><span class="line">                base.fill(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(card.content).font(.largeTitle)</span><br><span class="line">            &#125;</span><br><span class="line">            .opacity(card.isFaceUp <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            base.fill().opacity(card.isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬ç°åœ¨æƒ³è¦æŸ¥çœ‹å¡ç‰‡çš„æ­£é¢ï¼Œåªéœ€è¦æ›´æ”¹ Model å³å¯ã€‚ï¼ˆ<code>MemorizeGame.swift</code> æ–‡ä»¶ï¼‰</p>
<h4 id="2-3-1-CardView-Struct-ä¼˜åŒ–"><a href="#2-3-1-CardView-Struct-ä¼˜åŒ–" class="headerlink" title="2.3.1 CardView Struct ä¼˜åŒ–"></a>2.3.1 CardView Struct ä¼˜åŒ–</h4><p>æˆ‘ä»¬è¿˜å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ CardViewã€‚è°ƒç”¨æ—¶éœ€è¦å†™ <code>card:</code> å¾ˆéº»çƒ¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CardView</span>(card: viewModel.cards[index])</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„åˆå§‹åŒ–å‡½æ•°<code>init</code>å¿½ç•¥å‡½æ•°æ ‡ç­¾ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.cards.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(viewModel.cards[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> card: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.card <span class="operator">=</span> card</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-æ”¾å¤§-Emoji"><a href="#2-3-2-æ”¾å¤§-Emoji" class="headerlink" title="2.3.2 æ”¾å¤§ Emoji"></a>2.3.2 æ”¾å¤§ Emoji</h4><p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_biggerEmoji.png"></p>
<h3 id="2-4-View-å’Œ-ViewModel-å…³è”ä¼˜åŒ–"><a href="#2-4-View-å’Œ-ViewModel-å…³è”ä¼˜åŒ–" class="headerlink" title="2.4 View å’Œ ViewModel å…³è”ä¼˜åŒ–"></a>2.4 <code>View</code> å’Œ <code>ViewModel</code> å…³è”ä¼˜åŒ–</h3><h4 id="2-4-1-MARK-Intents"><a href="#2-4-1-MARK-Intents" class="headerlink" title="2.4.1 MARK: - Intents"></a>2.4.1 <code>MARK: - Intents</code></h4><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>MAKR: - XXX</code> æ—¶ï¼Œ <code>-</code> å¯ä»¥åœ¨ Swift ä¸­çœ‹èµ·æ¥æœ‰ä¸€æ¡çº¿ä¸€æ ·ï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_mark.png"></p>
<h4 id="2-4-2-æ´—ç‰Œ"><a href="#2-4-2-æ´—ç‰Œ" class="headerlink" title="2.4.2 æ´—ç‰Œ"></a>2.4.2 æ´—ç‰Œ</h4><h5 id="ä¿®æ”¹-View-å’Œ-ViewModel"><a href="#ä¿®æ”¹-View-å’Œ-ViewModel" class="headerlink" title="ä¿®æ”¹ View å’Œ ViewModel"></a>ä¿®æ”¹ View å’Œ ViewModel</h5><p>å®ç°ï¼ˆä¿®æ”¹ï¼‰ ViewModel:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">    <span class="comment">// MARK: - Intents</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        model.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°ï¼ˆä¿®æ”¹ï¼‰View:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Shuffle&quot;</span>) &#123;</span><br><span class="line">                viewModel.shuffle()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h5 id="mutating"><a href="#mutating" class="headerlink" title="mutating"></a>mutating</h5><p>æˆ‘ä»¬éœ€è¦è®© Model æ”¯æŒæ´—ç‰Œçš„æ“ä½œã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        cards.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œ<code>self (Model)</code> æ˜¯ä¸å¯æ›´æ”¹çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        cards.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä»»ä½•å‡½æ•°éœ€è¦ä¿®æ”¹ Model å¿…é¡»è¦è¢«æ ‡è®° <strong>mutating</strong> å…³é”®å­—ï¼Œå› ä¸ºè¿™ä¼šé€ æˆå†™æ—¶å¤åˆ¶ï¼ˆcopy on writeï¼‰ã€‚</p>
<h5 id="Reactive-UI"><a href="#Reactive-UI" class="headerlink" title="Reactive UI"></a>Reactive UI</h5><p><code>@ObservableObject</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">      <span class="meta">@Published</span> <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">    <span class="comment">// MARK: - Intents</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        model.shuffle()</span><br><span class="line">        objectWillChange.send()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>objectWillChange.send()</code> ä¼šé€šçŸ¥ UI (View)ï¼Œæœ‰äº›ä¸œè¥¿å°†è¦å˜äº†ã€‚ <code>@Published</code> åˆ™åœ¨ä¸€äº›ä¸œè¥¿å˜åŠ¨å, è¯´ä¸€äº›ä¸œè¥¿å·²ç»å˜äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span> <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Shuffle&quot;</span>) &#123;</span><br><span class="line">                viewModel.shuffle()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿéœ€è¦ç»™æˆ‘ä»¬çš„ <code>viewModel</code> å˜é‡æ·»åŠ  <code>@ObservedObject</code> ã€‚æ­¤å¤„ <code>@ObservedObject</code> çš„ä½œç”¨ä¼šè§‚å¯Ÿ <code>EmojiMemoryGame</code> ä¸­çš„ <code>@Published</code> å˜é‡å˜åŒ–ï¼Œå¦‚æœå‘ç”Ÿå˜åŒ–äº†ï¼Œåˆ™ä¼šé‡æ–°æ¸²æŸ“ UIã€‚</p>
<p><strong>é‡è¦æç¤ºï¼š</strong> æœ‰ä¸€ä¸ª <code>@ObservedObject</code> ç„¶åèµ‹å€¼ä¸€äº›ä¸œè¥¿æ˜¯<strong>éå¸¸ä¸å¥½</strong>çš„ä¹ æƒ¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span> <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br></pre></td></tr></table></figure>

<p><strong>æ­£ç¡®</strong> çš„æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="type">Preview</span> &#123;</span><br><span class="line">	<span class="comment">//æ­¤å¤„åˆå§‹åŒ– viewModel å˜é‡ï¼Œæ¥è¿›è¡Œé¢„è§ˆ</span></span><br><span class="line">    <span class="type">EmojiMemoryGameView</span>(viewModel: <span class="type">EmojiMemoryGame</span>())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ Appï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  MemorizeApp.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">@main</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemorizeApp</span>: <span class="title class_ inherited__">App</span> &#123;</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ– viewModel å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">var</span> game <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> &#123;</span><br><span class="line">        <span class="type">WindowGroup</span> &#123;</span><br><span class="line">            <span class="type">EmojiMemoryGameView</span>(viewModel: game)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@StateObject</code> æ„æ€æ˜¯ä½ ä¸èƒ½å’Œå…¶ä»– <code>View</code> å…±äº«è¿™ä¸ªå¯¹è±¡ã€‚</p>
<h5 id="ç»­ç¬¬äº”èŠ‚è¯¾ï¼š-ObservedObject-å’Œ-StateObject-åŒºåˆ«"><a href="#ç»­ç¬¬äº”èŠ‚è¯¾ï¼š-ObservedObject-å’Œ-StateObject-åŒºåˆ«" class="headerlink" title="ç»­ç¬¬äº”èŠ‚è¯¾ï¼š@ObservedObject å’Œ @StateObject åŒºåˆ«"></a>ç»­ç¬¬äº”èŠ‚è¯¾ï¼š<code>@ObservedObject</code> å’Œ <code>@StateObject</code> åŒºåˆ«</h5><p><strong>1. ç¤ºä¾‹ï¼ˆéè¯¾ä»¶å†…å®¹ï¼‰</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> value <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ParentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">private</span> <span class="keyword">var</span> counter <span class="operator">=</span> <span class="type">Counter</span>() <span class="comment">// ç”±çˆ¶è§†å›¾è´Ÿè´£åˆ›å»ºå’Œç®¡ç†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ChildView</span>(counter: counter) <span class="comment">// å°† ObservableObject ä¼ é€’ç»™å­è§†å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ChildView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> counter: <span class="type">Counter</span> <span class="comment">// è§‚å¯Ÿçˆ¶è§†å›¾ä¼ é€’è¿‡æ¥çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Counter: <span class="subst">\(counter.value)</span>&quot;</span>)</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Increment&quot;</span>) &#123;</span><br><span class="line">                counter.value <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ParentView</code></strong> åˆ›å»ºå¹¶ç®¡ç† <code>Counter</code> çš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><strong><code>ChildView</code></strong> ä½¿ç”¨ <code>@ObservedObject</code> è§‚å¯Ÿä¼ å…¥çš„ <code>Counter</code> å®ä¾‹ï¼Œä½†ä¸è´Ÿè´£ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸã€‚</li>
</ul>
<p>ä½¿ç”¨ <code>@StateObject</code> å’Œ <code>@ObservedObject</code> çš„æ ¸å¿ƒåœ¨äºå¯¹<strong>ç”Ÿå‘½å‘¨æœŸçš„ç†è§£</strong>ï¼Œç¡®ä¿åœ¨åˆé€‚çš„ä¸Šä¸‹æ–‡ä¸­ç®¡ç†å’Œè§‚å¯Ÿæ•°æ®ã€‚</p>
<p><strong>2. æ€»ç»“</strong></p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>@ObservedObject</code></th>
<th><code>@StateObject</code></th>
</tr>
</thead>
<tbody><tr>
<td><strong>è´Ÿè´£å®ä¾‹åˆ›å»º</strong></td>
<td>å¦ï¼šåªè§‚å¯Ÿä¼ å…¥çš„ <code>ObservableObject</code></td>
<td>æ˜¯ï¼šè´Ÿè´£åˆ›å»ºå¹¶ç®¡ç† <code>ObservableObject</code> çš„ç”Ÿå‘½å‘¨æœŸ</td>
</tr>
<tr>
<td><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></td>
<td>ä¸ç®¡ç†ï¼Œä¾èµ–äºå¤–éƒ¨å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ</td>
<td>è‡ªåŠ¨ç®¡ç†ï¼Œå½“è§†å›¾é”€æ¯æ—¶ï¼Œ<code>ObservableObject</code> ä¹Ÿé”€æ¯</td>
</tr>
<tr>
<td><strong>åˆå§‹åŒ–æ—¶æœº</strong></td>
<td>å¤–éƒ¨ä¼ å…¥å®ä¾‹ï¼Œå¿…é¡»åœ¨å¤–éƒ¨å·²åˆ›å»º</td>
<td>ä»…åœ¨è§†å›¾é¦–æ¬¡åˆå§‹åŒ–æ—¶åˆ›å»ºä¸€æ¬¡</td>
</tr>
<tr>
<td><strong>ä½¿ç”¨åœºæ™¯</strong></td>
<td>å­è§†å›¾ï¼šè§‚å¯Ÿç”±çˆ¶è§†å›¾ä¼ é€’çš„ <code>ObservableObject</code> å®ä¾‹</td>
<td>çˆ¶è§†å›¾ï¼šåˆ›å»ºå¹¶ç®¡ç†è‡ªå·±çš„ <code>ObservableObject</code> å®ä¾‹</td>
</tr>
<tr>
<td><strong>é‡å¤æ¸²æŸ“</strong></td>
<td>æ¯æ¬¡è§†å›¾åˆ·æ–°æ—¶ï¼Œè§‚å¯Ÿç›¸åŒçš„å®ä¾‹</td>
<td>ä¸ä¼šåœ¨è§†å›¾åˆ·æ–°æ—¶é‡å¤åˆ›å»º <code>ObservableObject</code></td>
</tr>
</tbody></table>
<ul>
<li><code>@StateObject</code> é€‚ç”¨äºå½“å‰è§†å›¾éœ€è¦è‡ªå·±åˆ›å»ºå¹¶ç®¡ç† <code>ObservableObject</code> å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¸¸ç”¨äºçˆ¶è§†å›¾æˆ–ç‹¬ç«‹è§†å›¾ã€‚</li>
<li><code>@ObservedObject</code>é€‚ç”¨äºè§‚å¯Ÿç”±å¤–éƒ¨ä¼ é€’çš„ <code>ObservableObject</code>ï¼Œå¸¸ç”¨äºå­è§†å›¾ã€‚</li>
<li><code>@ObservedObject</code> å’Œ <code>@StateObject</code> éƒ½æ˜¯ç”¨äºè§‚å¯Ÿ <code>ObservableObject</code> çš„å±æ€§åŒ…è£…å™¨ï¼Œä½†å®ƒä»¬æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†æ–¹å¼ã€‚</li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div>æ¬£èµæ­¤æ–‡ï¼Ÿæ±‚é¼“åŠ±ï¼Œæ±‚æ”¯æŒï¼</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="Serein å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Serein æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
      <div>
     
       
<div class="my_post_copyright">
  <div style="text-align:center;color: #ccc;font-size:14px;">------ ç‰ˆæƒå£°æ˜ ------</div>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/" title="Stanford cs193p 04ï½œMVVM åº”ç”¨">https://aricyq0.github.io/2024/12/09/Stanford-cs193p-04ï½œMVVM-åº”ç”¨/</a>
    <button class="copy-button" style="cursor: pointer; margin-left: 6px; border: none; background: none;" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥">
      <i class="fa fa-clipboard" aria-label="å¤åˆ¶"></i>
    </button>
    <span class="copy-success" style="margin-left: 5px; display: none; color: #999; font-size: 14px;">å¤åˆ¶æˆåŠŸ</span>
  </p>
  <p><span style="margin-right: 4px;">ç‰ˆæƒç”³æ˜:</span>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a>è®¸å¯åè®®ã€‚è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>  
</div>
<script> 
  document.addEventListener('DOMContentLoaded', function() {
    var clipboard = new ClipboardJS('.copy-button', {
      text: function() {
        return window.location.origin + '/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/';
      }
    });
    
    clipboard.on('success', function(e) {
      var successTip = document.querySelector('.copy-success');
      successTip.style.display = 'inline';
      setTimeout(function() {
        successTip.style.display = 'none';
      }, 1000);
    });
  });
</script>

     
</div>
          
          <div class="post-tags">
              <a href="/tags/cs193p/" rel="tag"><i class="fa fa-tag"></i> cs193p</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/" rel="prev" title="Stanford cs193p 03ï½œMVVM">
      <i class="fa fa-chevron-left"></i> Stanford cs193p 03ï½œMVVM
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/12/20/Stanford-cs193p-05%EF%BD%9CProtocol-Enum-Optional/" rel="next" title="Stanford cs193p 05 | Protocol Enum Optional">
      Stanford cs193p 05 | Protocol Enum Optional <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%AC%AC%E4%B8%89%E8%8A%82%E8%AF%BE%E6%9C%80%E5%90%8E-15-%E5%88%86%E9%92%9F"><span class="nav-text">1. ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E6%95%B4%E7%90%86%E4%BB%A3%E7%A0%81"><span class="nav-text">1.1 æ•´ç†ä»£ç </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA-Model-%E6%96%87%E4%BB%B6"><span class="nav-text">1.2 æ–°å»ºä¸€ä¸ª Model æ–‡ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA-ViewModel-%E6%96%87%E4%BB%B6"><span class="nav-text">1.3 æ–°å»ºä¸€ä¸ª ViewModel æ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%AC%AC%E5%9B%9B%E8%8A%82%E8%AF%BE"><span class="nav-text">2. ç¬¬å››èŠ‚è¯¾</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%EF%BC%9A%E5%AE%9E%E7%8E%B0%E7%94%B1%E9%83%A8%E5%88%86%E5%88%86%E7%A6%BB%E8%BD%AC%E4%B8%BA%E5%85%A8%E9%83%A8%E5%88%86%E7%A6%BB"><span class="nav-text">2.1 è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-1-%E9%83%A8%E5%88%86%E5%88%86%E7%A6%BB"><span class="nav-text">2.1.1 éƒ¨åˆ†åˆ†ç¦»</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-%E5%AE%8C%E5%85%A8%E5%88%86%E7%A6%BB"><span class="nav-text">2.1.2 å®Œå…¨åˆ†ç¦»</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#private-set"><span class="nav-text">private(set)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-ViewModel-%E6%96%B9%E6%B3%95%E8%A1%A5%E5%85%85%E5%92%8C-Model-%E5%AF%B9%E5%BA%94%E4%BF%AE%E6%94%B9"><span class="nav-text">2.2 ViewModel æ–¹æ³•è¡¥å……å’Œ Model å¯¹åº”ä¿®æ”¹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1-Model-%E7%9A%84-choose-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C-ViewModel-%E7%9A%84-choose-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E8%B0%83%E7%94%A8"><span class="nav-text">2.2.1 Model çš„ choose å‡½æ•°å£°æ˜å’Œ ViewModel çš„ choose å‡½æ•°å£°æ˜è°ƒç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5%E5%87%BD%E6%95%B0%E6%A0%87%E7%AD%BE-No-External-Name"><span class="nav-text">å¿½ç•¥å‡½æ•°æ ‡ç­¾ (No External Name)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-Model-%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8%E5%92%8C-ViewModel-%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">2.2.2 Model ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ ViewModel ç±»åˆå§‹åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Model-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8"><span class="nav-text">Model åˆå§‹åŒ–å™¨</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-For-%E5%BE%AA%E7%8E%AF"><span class="nav-text">1. For å¾ªç¯</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E9%97%AD%E5%8C%85%E8%AF%AD%E6%B3%95"><span class="nav-text">2. é—­åŒ…è¯­æ³•</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8-ViewModel-%E4%B8%AD%E5%88%9D%E5%A7%8B%E5%8C%96-Model-%E5%8F%98%E9%87%8F"><span class="nav-text">åœ¨ ViewModel ä¸­åˆå§‹åŒ– Model å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-0"><span class="nav-text">1. $0</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-text">2. é™æ€å˜é‡å’Œå‡½æ•°</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E2%80%9C-thing%E2%80%9D"><span class="nav-text">3. â€œ.thingâ€</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%EF%BC%9A%E6%95%B0%E7%BB%84%E4%B8%8D%E8%83%BD%E8%B6%85%E5%87%BA%E7%B4%A2%E5%BC%95"><span class="nav-text">2.2.3 é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E5%9C%A8-View-%E4%B8%AD%E4%BD%BF%E7%94%A8-ViewModel"><span class="nav-text">2.3 åœ¨ View ä¸­ä½¿ç”¨ ViewModel</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1-CardView-Struct-%E4%BC%98%E5%8C%96"><span class="nav-text">2.3.1 CardView Struct ä¼˜åŒ–</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-%E6%94%BE%E5%A4%A7-Emoji"><span class="nav-text">2.3.2 æ”¾å¤§ Emoji</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-View-%E5%92%8C-ViewModel-%E5%85%B3%E8%81%94%E4%BC%98%E5%8C%96"><span class="nav-text">2.4 View å’Œ ViewModel å…³è”ä¼˜åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-MARK-Intents"><span class="nav-text">2.4.1 MARK: - Intents</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-%E6%B4%97%E7%89%8C"><span class="nav-text">2.4.2 æ´—ç‰Œ</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-View-%E5%92%8C-ViewModel"><span class="nav-text">ä¿®æ”¹ View å’Œ ViewModel</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#mutating"><span class="nav-text">mutating</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Reactive-UI"><span class="nav-text">Reactive UI</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%AD%E7%AC%AC%E4%BA%94%E8%8A%82%E8%AF%BE%EF%BC%9A-ObservedObject-%E5%92%8C-StateObject-%E5%8C%BA%E5%88%AB"><span class="nav-text">ç»­ç¬¬äº”èŠ‚è¯¾ï¼š@ObservedObject å’Œ @StateObject åŒºåˆ«</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Serein"
      src="/uploads/avatar.JPEG">
  <p class="site-author-name" itemprop="name">Serein</p>
  <div class="site-description" itemprop="description">Crazy learning, crazy sharing.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Aricyq0" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Aricyq0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ari.cyq@gmail.com" title="E-Mail â†’ mailto:ari.cyq@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2024 â€“ 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">[object Object]</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">122k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:51</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> å¼ºåŠ›é©±åŠ¨
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
