<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"aricyq0.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 03 é›†çš„ç›¸å…³ç¬”è®°ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Stanford cs193p 03ï½œMVVM">
<meta property="og:url" content="https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/index.html">
<meta property="og:site_name" content="Serein">
<meta property="og:description" content="æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 03 é›†çš„ç›¸å…³ç¬”è®°ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/cs193p03_MVVM.png">
<meta property="article:published_time" content="2024-12-06T09:28:10.000Z">
<meta property="article:modified_time" content="2025-04-01T04:04:31.293Z">
<meta property="article:author" content="Serein">
<meta property="article:tag" content="cs193p">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/cs193p03_MVVM.png">

<link rel="canonical" href="https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Stanford cs193p 03ï½œMVVM | Serein</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Serein</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/aricyq0" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.JPEG">
      <meta itemprop="name" content="Serein">
      <meta itemprop="description" content="Crazy learning, crazy sharing.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Serein">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Stanford cs193p 03ï½œMVVM
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-12-06 17:28:10" itemprop="dateCreated datePublished" datetime="2024-12-06T17:28:10+08:00">2024-12-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-04-01 12:04:31" itemprop="dateModified" datetime="2025-04-01T12:04:31+08:00">2025-04-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/code/swift/" itemprop="url" rel="index"><span itemprop="name">swift</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="far fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>8.4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>8 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 03 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<blockquote>
<p>æœ¬æ–‡ä¸»è¦å†…å®¹è½¬è½½äºï¼š<a target="_blank" rel="noopener" href="https://nwdan.com/my-learning/stanford-cs193p-3.html">é—»è€…é€šè¾¾çš„ä¸ªäººåšå®¢</a></p>
</blockquote>
<p>cs193p è¯¾ç¨‹ä»‹ç»:</p>
<blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<p>æœ¬èŠ‚å‰è¨€ï¼š</p>
<blockquote>
<p>Conceptual overview of the architectural paradigm underlying the development of applications for iOS using SwiftUI (known as MVVM). Explanation of a fundamental component of understanding the Swift programming language: its type system. Start to apply both of these to Memorize.</p>
</blockquote>
<p>cs193p è¯¾ç¨‹ç½‘å€: <a target="_blank" rel="noopener" href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></p>
<p>æ¨èçš„æ‹“å±•ç»ƒä¹ æ•™ç¨‹ï¼štodolist MVVMï¼ˆçº¦ 130 åˆ†é’Ÿï¼‰ <a target="_blank" rel="noopener" href="https://ur0.jp/jVOQG">https://ur0.jp/jVOQG</a></p>
<hr>
<h2 id="0-æœ¬èŠ‚æ¡†æ¶"><a href="#0-æœ¬èŠ‚æ¡†æ¶" class="headerlink" title="0. æœ¬èŠ‚æ¡†æ¶"></a>0. æœ¬èŠ‚æ¡†æ¶</h2><ul>
<li><p>MVVM</p>
<p>MVVM æ¶æ„ç®€ä»‹ä¸ç‰¹ç‚¹</p>
</li>
<li><p><code>swift</code> ç±»å‹</p>
<ul>
<li><code>struct</code> vs <code>class</code></li>
<li><code>protocol</code></li>
<li>â€œdonâ€™t careâ€ type (aka <code>generics</code>)</li>
<li><code>enum</code>ï¼ˆç•¥ï¼Œä½†å¾ˆé‡è¦ï¼‰</li>
<li><code>functions</code></li>
</ul>
</li>
<li><p>Demo<br>ç»­ä¸ŠèŠ‚è®°å¿†æ¸¸æˆï¼Œå›  demo å¤ªçŸ­ï¼Œå°† demo åˆå¹¶åˆ°äº†ä¸‹ä¸€ç¯‡ç¬”è®°ä¸­ã€‚</p>
</li>
</ul>
<h2 id="1-Model-and-UI"><a href="#1-Model-and-UI" class="headerlink" title="1. Model and UI"></a>1. Model and UI</h2><h3 id="1-1-å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»"><a href="#1-1-å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»" class="headerlink" title="1.1 å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»"></a>1.1 å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»</h3><ul>
<li>SwiftUI å¼ºè°ƒå°†åº”ç”¨ç¨‹åºé€»è¾‘å’Œæ•°æ®ä¸ç”¨æˆ·ç•Œé¢åˆ†ç¦»ã€‚æˆ‘ä»¬å°†è¿™äº›é€»è¾‘å’Œæ•°æ®ç§°ä¸º <strong>æ¨¡å‹ï¼ˆModelï¼‰</strong>ã€‚</li>
<li>æ¨¡å‹å¯ä»¥æ˜¯ <code>struct</code>ã€<code>SQL</code> æ•°æ®åº“ã€æœºå™¨å­¦ä¹ ä»£ç æˆ–å…¶ä»–å¤šç§å½¢å¼çš„ç»„åˆã€‚</li>
<li>ç”¨æˆ·ç•Œé¢åŸºæœ¬ä¸Šåªæ˜¯ä¸€ä¸ªâ€œå¯å‚æ•°åŒ–â€çš„å¤–å£³ï¼Œç”±æ¨¡å‹æä¾›æ•°æ®å¹¶èµ‹äºˆå…¶ç”Ÿå‘½ã€‚</li>
<li><strong>ç”¨æˆ·ç•Œé¢æ˜¯æ¨¡å‹çš„å¯è§†åŒ–è¡¨ç°</strong>ã€‚</li>
<li>æ¨¡å‹æ˜¯å­˜æ”¾åƒ <code>isFaceUp</code> å’Œ <code>cardCount</code> è¿™æ ·çš„çŠ¶æ€çš„åœ°æ–¹ï¼Œè€Œè¿™äº›çŠ¶æ€ä¸åº”è¯¥æ”¾åœ¨ UI çš„ <code>@State</code> ä¸­ã€‚</li>
<li>SwiftUI ä¼šç¡®ä¿å½“æ¨¡å‹å˜åŒ–å½±å“åˆ°ç”¨æˆ·ç•Œé¢æ—¶ï¼Œç”¨æˆ·ç•Œé¢ä¼šè¢«é‡æ–°æ„å»ºã€‚</li>
</ul>
<h3 id="1-2-å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢"><a href="#1-2-å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢" class="headerlink" title="1.2 å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢"></a>1.2 å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢</h3><p>åœ¨å°†æ¨¡å‹ä¸ç”¨æˆ·ç•Œé¢è¿æ¥æ—¶ï¼Œæœ‰å‡ ç§é€‰æ‹©ï¼š</p>
<ol>
<li><strong>å‡ ä¹ä¸åˆ†ç¦»</strong>ï¼šæå°‘æ•°æƒ…å†µä¸‹ï¼Œæ¨¡å‹å¯ä»¥ä½œä¸ºè§†å›¾ä¸­çš„ <code>@State</code></li>
<li><strong>å®Œå…¨åˆ†ç¦»</strong>ï¼šæ¨¡å‹å¯èƒ½ä»…èƒ½é€šè¿‡ä¸€ä¸ªå……å½“â€œé—¨å«â€çš„ <strong>è§†å›¾æ¨¡å‹ï¼ˆView Modelï¼‰</strong> <code>class</code> è¿›è¡Œè®¿é—®</li>
<li><strong>éƒ¨åˆ†åˆ†ç¦»</strong>ï¼šå­˜åœ¨ä¸€ä¸ªè§†å›¾æ¨¡å‹ <code>class</code>ï¼Œä½†æ¨¡å‹ä»ç„¶å¯ä»¥ç›´æ¥è®¿é—®</li>
</ol>
<p>è¿™ä¸‰ç§é€‰æ‹©ä¸»è¦å–å†³äºæ¨¡å‹çš„å¤æ‚æ€§ï¼š</p>
<ul>
<li>ä¸€ä¸ªç”± SQL + <code>struct</code> + å…¶ä»–å…ƒç´ ç»„æˆçš„æ¨¡å‹ï¼Œå¯èƒ½ä¼šé€‰æ‹©ç¬¬äºŒç§æ–¹æ¡ˆ</li>
<li>å¦‚æœæ¨¡å‹åªæ˜¯ä¸€å°æ®µç®€å•æ•°æ®ä¸”æ¶‰åŠçš„é€»è¾‘å¾ˆå°‘ï¼Œå¯èƒ½ä¼šé€‰æ‹©ç¬¬ä¸€ç§æ–¹æ¡ˆ</li>
<li>ä»‹äºä¸¤è€…ä¹‹é—´çš„æƒ…å†µå¯èƒ½ä¼šè€ƒè™‘ç¬¬ä¸‰ç§æ–¹æ¡ˆ</li>
</ul>
<p>æœ¬èŠ‚å°†é‡ç‚¹è®¨è®ºç¬¬äºŒç§æ–¹æ¡ˆï¼ˆå®Œå…¨åˆ†ç¦»ï¼‰ã€‚æˆ‘ä»¬å°†è¿™ç§è¿æ¥æ¨¡å‹ä¸ç”¨æˆ·ç•Œé¢çš„æ¶æ„ç§°ä¸º <strong>MVVM</strong> ï¼ˆæ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ï¼‰ã€‚</p>
<ul>
<li><strong>MVVM</strong> æ˜¯ç›¸å¯¹å¤æ‚çš„ SwiftUI åº”ç”¨çš„ä¸»è¦æ¶æ„</li>
<li>ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼ˆéƒ¨åˆ†åˆ†ç¦»ï¼‰æ˜¯å¯¹ MVVM çš„ç»†å¾®è°ƒæ•´</li>
</ul>
<h2 id="2-MVVM"><a href="#2-MVVM" class="headerlink" title="2. MVVM"></a>2. MVVM</h2><h3 id="2-1-MVVM-ç®€ä»‹"><a href="#2-1-MVVM-ç®€ä»‹" class="headerlink" title="2.1 MVVM ç®€ä»‹"></a>2.1 MVVM ç®€ä»‹</h3><p><strong>MVVM (Model-View-ViewModel)</strong> æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œå°†è§†å›¾ï¼ˆUIï¼‰å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œä»è€Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚å®ƒå°†ä»£ç åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>Modelï¼ˆæ¨¡å‹å±‚ï¼‰ï¼š</strong> è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚é€šå¸¸æ˜¯æ•°æ®æ¨¡å‹ï¼Œå¯èƒ½åŒ…å«ä»æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“è·å–çš„å†…å®¹ã€‚</li>
<li><strong>Viewï¼ˆè§†å›¾å±‚ï¼‰ï¼š</strong> è´Ÿè´£å±•ç¤º UIï¼Œå£°æ˜å¼åœ°æè¿°ç•Œé¢å¦‚ä½•å“åº”æ•°æ®å˜åŒ–ã€‚è§†å›¾åªä¸ ViewModel äº¤äº’ï¼Œè€Œä¸ç›´æ¥æ“ä½œ Modelã€‚</li>
<li><strong>ViewModelï¼ˆè§†å›¾æ¨¡å‹å±‚ï¼‰ï¼š</strong> è´Ÿè´£è¿æ¥ View å’Œ Modelã€‚ViewModel é€šè¿‡å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œå°†æ•°æ®è½¬æ¢ä¸ºè§†å›¾éœ€è¦çš„å½¢å¼ï¼Œå¹¶é€šè¿‡ç»‘å®šçš„æ–¹å¼é€šçŸ¥è§†å›¾æ›´æ–°ã€‚</li>
</ul>
<h3 id="2-2-MVVM-ç‰¹ç‚¹"><a href="#2-2-MVVM-ç‰¹ç‚¹" class="headerlink" title="2.2 MVVM ç‰¹ç‚¹"></a>2.2 MVVM ç‰¹ç‚¹</h3><ul>
<li>è§£è€¦ï¼šView å’Œ Model ç›¸äº’ç‹¬ç«‹ï¼ŒViewModel æ‰¿æ‹…æ•°æ®è½¬æ¢ä»»åŠ¡ï¼Œå‡å°‘ UI å’Œä¸šåŠ¡é€»è¾‘çš„è€¦åˆã€‚</li>
<li>æ•°æ®é©±åŠ¨ï¼šViewModel ä¸­çš„å±æ€§é€šå¸¸æ˜¯å¯è§‚å¯Ÿçš„ï¼ˆä¾‹å¦‚ SwiftUI ä¸­çš„ @Published å±æ€§ï¼‰ï¼Œä½¿å¾—æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘ UI æ›´æ–°ã€‚</li>
<li>å•å‘æ•°æ®æµï¼šModel æ›´æ–°æ—¶ï¼Œé€šçŸ¥ ViewModelï¼Œè¿›è€Œé€šçŸ¥ Viewï¼›ç”¨æˆ·æ“ä½œä» View ä¼ é€’åˆ° ViewModel è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
<p><img src="/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/cs193p03_MVVM.png"></p>
<h3 id="2-3-æ•°æ®æµåœ¨-MVVM-ä¸­çš„è¿ä½œ"><a href="#2-3-æ•°æ®æµåœ¨-MVVM-ä¸­çš„è¿ä½œ" class="headerlink" title="2.3 æ•°æ®æµåœ¨ MVVM ä¸­çš„è¿ä½œ"></a>2.3 æ•°æ®æµåœ¨ MVVM ä¸­çš„è¿ä½œ</h3><ul>
<li><p><strong>ä» Model åˆ° View</strong></p>
<ol>
<li>ViewModel ä» Model è·å–æ•°æ®ï¼ˆå¦‚ä»ç½‘ç»œæˆ–æœ¬åœ°åŠ è½½ï¼‰ã€‚</li>
<li>ViewModel é€šè¿‡ @Published å±æ€§å°†æ•°æ®æš´éœ²ç»™è§†å›¾ã€‚</li>
<li>è§†å›¾è§‚å¯Ÿ ViewModelï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚</li>
</ol>
</li>
<li><p><strong>ä» View åˆ° Model</strong></p>
<ol>
<li>ç”¨æˆ·åœ¨è§†å›¾ä¸­è¿›è¡Œäº¤äº’</li>
<li>äº¤äº’äº‹ä»¶è§¦å‘ ViewModel çš„æ–¹æ³•</li>
<li>ViewModel ä¿®æ”¹ Model æˆ–å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œæ›´æ–°æ•°æ®åé€šçŸ¥è§†å›¾ã€‚</li>
</ol>
</li>
</ul>
<h3 id="2-4-è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰"><a href="#2-4-è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰" class="headerlink" title="2.4 è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰"></a>2.4 è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ SwiftUI ä¸­å®ç° MVVM æ¶æ„ã€‚</p>
<blockquote>
<p>è¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†è¾…åŠ©ç†è§£ MVVM æ¶æ„ï¼Œä¸ç”¨å®ç°ã€‚</p>
</blockquote>
<h4 id="2-4-1-æ¨¡å‹å±‚ï¼ˆModelï¼‰"><a href="#2-4-1-æ¨¡å‹å±‚ï¼ˆModelï¼‰" class="headerlink" title="2.4.1 æ¨¡å‹å±‚ï¼ˆModelï¼‰"></a>2.4.1 æ¨¡å‹å±‚ï¼ˆModelï¼‰</h4><p>æ¨¡å‹è´Ÿè´£è¡¨ç¤ºåº”ç”¨çš„æ•°æ®ç»“æ„ã€‚é€šå¸¸æ˜¯ç®€å•çš„æ•°æ®ç±»å‹ï¼Œå¯èƒ½ä»æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“åŠ è½½ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Habit</span>: <span class="title class_ inherited__">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> isCompleted: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-2-è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰"><a href="#2-4-2-è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰" class="headerlink" title="2.4.2 è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰"></a>2.4.2 è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰</h4><p><code>ViewModel</code> è´Ÿè´£ç®¡ç†ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ï¼Œå¹¶é€šè¿‡æ•°æ®ç»‘å®šå°†æ•°æ®æš´éœ²ç»™è§†å›¾ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HabitViewModel</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="comment">// å¯è§‚å¯Ÿçš„å±æ€§ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°</span></span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> habits: [<span class="type">Habit</span>] <span class="operator">=</span> [</span><br><span class="line">        <span class="type">Habit</span>(id: <span class="number">1</span>, name: <span class="string">&quot;Exercise&quot;</span>, isCompleted: <span class="literal">false</span>),</span><br><span class="line">        <span class="type">Habit</span>(id: <span class="number">2</span>, name: <span class="string">&quot;Read a Book&quot;</span>, isCompleted: <span class="literal">true</span>)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ä¹ æƒ¯å®ŒæˆçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">toggleHabitCompletion</span>(<span class="keyword">_</span> <span class="params">habit</span>: <span class="type">Habit</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index <span class="operator">=</span> habits.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> habit.id &#125;) &#123;</span><br><span class="line">            habits[index].isCompleted.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@Published</code>ï¼šä½¿å¾— <code>habits</code> çš„å˜åŒ–å¯ä»¥è¢« SwiftUI çš„ <code>View</code> è§‚å¯Ÿåˆ°ï¼Œä»è€Œè§¦å‘ UI æ›´æ–°ã€‚</li>
<li><strong>æ–¹æ³•</strong>ï¼šå°è£…äº†ä¸šåŠ¡é€»è¾‘ï¼Œä¾‹å¦‚åˆ‡æ¢ä¹ æƒ¯å®ŒæˆçŠ¶æ€ã€‚</li>
</ul>
<h4 id="2-4-3-è§†å›¾å±‚ï¼ˆViewï¼‰"><a href="#2-4-3-è§†å›¾å±‚ï¼ˆViewï¼‰" class="headerlink" title="2.4.3 è§†å›¾å±‚ï¼ˆViewï¼‰"></a>2.4.3 è§†å›¾å±‚ï¼ˆViewï¼‰</h4><p>è§†å›¾æ˜¯å®Œå…¨å£°æ˜å¼çš„ï¼Œåªå…³æ³¨ UI å’Œæ•°æ®çš„ç»‘å®šï¼Œä¸ç›´æ¥æ“ä½œ <code>Model</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HabitListView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">private</span> <span class="keyword">var</span> viewModel <span class="operator">=</span> <span class="type">HabitViewModel</span>() <span class="comment">// åˆ›å»º ViewModel å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">List</span>(viewModel.habits) &#123; habit <span class="keyword">in</span></span><br><span class="line">                <span class="type">HStack</span> &#123;</span><br><span class="line">                    <span class="type">Text</span>(habit.name)</span><br><span class="line">                    <span class="type">Spacer</span>()</span><br><span class="line">                    <span class="type">Button</span>(action: &#123;</span><br><span class="line">                        viewModel.toggleHabitCompletion(habit) <span class="comment">// ç”¨æˆ·æ“ä½œé€šçŸ¥ ViewModel</span></span><br><span class="line">                    &#125;) &#123;</span><br><span class="line">                        <span class="type">Image</span>(systemName: habit.isCompleted <span class="operator">?</span> <span class="string">&quot;checkmark.circle.fill&quot;</span> : <span class="string">&quot;circle&quot;</span>)</span><br><span class="line">                            .foregroundColor(habit.isCompleted <span class="operator">?</span> .green : .gray)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;My Habits&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@StateObject</code>ï¼šç”¨äºåˆå§‹åŒ– <code>ViewModel</code>ï¼Œä½¿è§†å›¾èƒ½å¤Ÿè§‚å¯Ÿå…¶çŠ¶æ€å˜åŒ–ã€‚</li>
<li><strong>æ•°æ®ç»‘å®š</strong>ï¼š<code>viewModel.habits</code> ä¸åˆ—è¡¨å†…å®¹ç»‘å®šï¼Œ<code>@Published</code> å±æ€§å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚</li>
<li><strong>ç”¨æˆ·æ“ä½œ</strong>ï¼šé€šè¿‡æŒ‰é’®æ“ä½œè°ƒç”¨ <code>ViewModel</code> æ–¹æ³•ï¼Œè€Œä¸ç›´æ¥æ“ä½œ <code>Model</code>ã€‚</li>
</ul>
<h2 id="3-Varieties-of-Types"><a href="#3-Varieties-of-Types" class="headerlink" title="3. Varieties of Types"></a>3. Varieties of Types</h2><h3 id="3-1-struct-and-class"><a href="#3-1-struct-and-class" class="headerlink" title="3.1 struct and class"></a>3.1 struct and class</h3><h4 id="3-1-1-struct-class-å…±åŒç‚¹"><a href="#3-1-1-struct-class-å…±åŒç‚¹" class="headerlink" title="3.1.1 struct &amp; class å…±åŒç‚¹"></a>3.1.1 struct &amp; class å…±åŒç‚¹</h4><p>åœ¨ Swift ä¸­ï¼Œ<code>struct</code> å’Œ <code>class</code> å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><p><strong>è¯­æ³•ç›¸ä¼¼</strong>ï¼šå®ƒä»¬çš„è¯­æ³•å‡ ä¹å®Œå…¨ç›¸åŒã€‚</p>
</li>
<li><p><strong>å­˜å‚¨å±æ€§</strong>ï¼ˆstored varsï¼‰ï¼šç±»ä¼¼äºä½ ç†Ÿæ‚‰çš„é‚£ç§å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isFaceUp: <span class="type">Bool</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è®¡ç®—å±æ€§</strong>ï¼ˆcomputed varsï¼‰ï¼šå…¶å€¼æ˜¯é€šè¿‡è¯„ä¼°ä¸€äº›ä»£ç å¾—å‡ºçš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¸¸é‡</strong>ï¼ˆconstant letsï¼‰ï¼šå…¶å€¼ä¸ä¼šæ”¹å˜çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColor <span class="operator">=</span> <span class="type">Color</span>.orange</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="type">CardView</span>().foregroundColor(defaultColor)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å‡½æ•°</strong>ï¼ˆfunctionsï¼‰ï¼šå¯ä»¥å®šä¹‰è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">multiply</span>(<span class="params">operand</span>: <span class="type">Int</span>, <span class="params">by</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> operand <span class="operator">*</span> by</span><br><span class="line">&#125;</span><br><span class="line">multiply(operand: <span class="number">5</span>, by: <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">multiply</span>(<span class="keyword">_</span> <span class="params">operand</span>: <span class="type">Int</span>, <span class="params">by</span> <span class="params">otherOperand</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> operand <span class="operator">*</span> otherOperand</span><br><span class="line">&#125;</span><br><span class="line">multiply(<span class="number">5</span>, by: <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åˆå§‹åŒ–å™¨</strong>ï¼ˆinitializersï¼‰ï¼šåœ¨åˆ›å»º <code>struct</code> æˆ– <code>class</code> æ—¶è°ƒç”¨çš„ç‰¹æ®Šå‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">RoundedRectangle</span> &#123;</span><br><span class="line">	<span class="keyword">init</span>(<span class="params">cornerRadius</span>: <span class="type">CGFloat</span>) &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ cornerRadius åˆå§‹åŒ–çŸ©å½¢</span></span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">init</span>(<span class="params">cornerSize</span>: <span class="type">CGSize</span>) &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ cornerSize åˆå§‹åŒ–çŸ©å½¢</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-1-2-struct-vs-class-åŒºåˆ«"><a href="#3-1-2-struct-vs-class-åŒºåˆ«" class="headerlink" title="3.1.2 struct vs class åŒºåˆ«"></a>3.1.2 struct vs class åŒºåˆ«</h4><table>
<thead>
<tr>
<th>struct</th>
<th>class</th>
</tr>
</thead>
<tbody><tr>
<td>å€¼ç±»å‹</td>
<td>å¼•ç”¨ç±»å‹</td>
</tr>
<tr>
<td>ä¼ é€’æˆ–èµ‹å€¼æ—¶ä¼šè¢«å¤åˆ¶</td>
<td>é€šè¿‡æŒ‡é’ˆä¼ é€’</td>
</tr>
<tr>
<td>å¤åˆ¶æ—¶å†™å…¥ï¼ˆåªæœ‰åœ¨è¢«ä¿®æ”¹æ—¶æ‰çœŸæ­£å¤åˆ¶ï¼‰</td>
<td>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</td>
</tr>
<tr>
<td>å‡½æ•°å¼ç¼–ç¨‹</td>
<td>é¢å‘å¯¹è±¡ç¼–ç¨‹</td>
</tr>
<tr>
<td>ä¸æ”¯æŒç»§æ‰¿</td>
<td>æ”¯æŒå•ç»§æ‰¿</td>
</tr>
<tr>
<td>â€œå…è´¹çš„â€ <strong>init</strong>åˆå§‹åŒ–æ‰€æœ‰çš„ <strong>var</strong></td>
<td>â€œå…è´¹çš„â€ <strong>init</strong> ä¸åˆå§‹åŒ–ä»»ä½• <strong>var</strong></td>
</tr>
<tr>
<td>å¯å˜æ€§æ˜¯æ˜¾å¼çš„ï¼ˆ<strong>var</strong> ä¸ <strong>let</strong> çš„åŒºåˆ†ï¼‰</td>
<td>å§‹ç»ˆå¯å˜</td>
</tr>
<tr>
<td>å¸¸ç”¨çš„æ•°æ®ç»“æ„</td>
<td>åœ¨ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>å€¼ç±»å‹ vs å¼•ç”¨ç±»å‹</strong>ï¼š<code>struct</code> æ˜¯å€¼ç±»å‹ï¼Œè¿™æ„å‘³ç€å½“å®ƒä»¬è¢«ä¼ é€’æˆ–èµ‹å€¼æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‰¯æœ¬ï¼›è€Œ <code>class</code> æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æˆ–èµ‹å€¼æ—¶åªæ˜¯å°†å¼•ç”¨æŒ‡å‘åŒä¸€å®ä¾‹ã€‚</p>
</li>
<li><p><strong>å¤åˆ¶æ—¶å†™å…¥</strong>ï¼šå¯¹äº <code>struct</code>ï¼Œåªæœ‰åœ¨å®ƒä»¬è¢«ä¿®æ”¹æ—¶ï¼Œæ‰ä¼šç”Ÿæˆæ–°çš„å‰¯æœ¬ï¼ˆå†™æ—¶å¤åˆ¶ï¼‰ï¼Œè¿™é€šå¸¸ç”¨äºä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€‚</p>
</li>
<li><p><strong>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</strong>ï¼š<code>class</code> çš„å®ä¾‹ä¼šè¢« Swift çš„å†…å­˜ç®¡ç†ç³»ç»Ÿè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼Œè¿™æ„å‘³ç€å½“æ²¡æœ‰å¼ºå¼•ç”¨æŒ‡å‘æŸä¸ªå®ä¾‹æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</p>
</li>
<li><p><strong>å‡½æ•°å¼ç¼–ç¨‹ vs é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>ï¼š<code>struct</code> å¸¸ç”¨äºå‡½æ•°å¼ç¼–ç¨‹èŒƒå¼ï¼Œè€Œ <code>class</code> åˆ™å¹¿æ³›ç”¨äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œåè€…å¼ºè°ƒå¯¹è±¡çš„å°è£…å’Œç»§æ‰¿ã€‚</p>
</li>
<li><p><strong>ç»§æ‰¿</strong>ï¼š<code>struct</code> ä¸æ”¯æŒç»§æ‰¿ï¼Œå› æ­¤å®ƒä¸èƒ½ä»å…¶å®ƒç»“æ„ä½“æ´¾ç”Ÿï¼›è€Œ <code>class</code> æ”¯æŒå•å±‚ç»§æ‰¿ï¼Œå…è®¸å­ç±»ä»çˆ¶ç±»ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ã€‚</p>
</li>
<li><p><strong>åˆå§‹åŒ–å™¨</strong>ï¼šå¯¹äº <code>struct</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒSwift ä¼šç”Ÿæˆä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼Œç¡®ä¿æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼›è€Œ <code>class</code> çš„é»˜è®¤åˆå§‹åŒ–å™¨ä¸ä¼šåˆå§‹åŒ–ä»»ä½•å±æ€§ï¼Œé™¤éä½ è‡ªå·±å®šä¹‰ã€‚</p>
</li>
<li><p><strong>å¯å˜æ€§</strong>ï¼šåœ¨ä½¿ç”¨ <code>struct</code> æ—¶ï¼Œå˜é‡ï¼ˆ<code>var</code>ï¼‰å’Œå¸¸é‡ï¼ˆ<code>let</code>ï¼‰çš„å®šä¹‰å½±å“å…¶å¯å˜æ€§ï¼Œå› æ­¤ä½ éœ€è¦æ˜¾å¼å£°æ˜ï¼›è€Œ <code>class</code> å®ä¾‹çš„å±æ€§é»˜è®¤æ˜¯å¯å˜çš„ï¼Œä¸è®ºæ˜¯ç”¨ <code>var</code> è¿˜æ˜¯ <code>let</code>ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šåœ¨å¼€å‘ä¸­ï¼Œ<code>struct</code> é€šå¸¸æ˜¯æ›´å¸¸ç”¨çš„é€‰æ‹©ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬æä¾›äº†æ›´å¥½çš„å†…å­˜ç®¡ç†å’Œæ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦å€¼ä¼ é€’çš„åœºæ™¯ï¼›è€Œ <code>class</code> åˆ™é€‚åˆéœ€è¦å…±äº«çŠ¶æ€æˆ–éœ€è¦ç»§æ‰¿çš„æƒ…å†µã€‚</p>
</li>
</ul>
<blockquote>
<p>æˆªæ­¢ç›®å‰è¯¾ç¨‹æ‰€çœ‹åˆ°çš„éƒ½æ˜¯ <code>struct</code>ï¼ŒMVVM æ¶æ„ä¸­çš„ ViewModel æ˜¯ <code>class</code>ã€‚</p>
</blockquote>
<h3 id="3-2-Generics-æ³›å‹"><a href="#3-2-Generics-æ³›å‹" class="headerlink" title="3.2 Generics æ³›å‹"></a>3.2 Generics æ³›å‹</h3><ul>
<li>æœ‰æ—¶æˆ‘ä»¬ä¸å…³å¿ƒå…·ä½“ç±»å‹ï¼Œæƒ³æ“ä½œç±»å‹æ— å…³çš„æ•°æ®ç»“æ„ã€‚</li>
<li>Swift æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æ— ç±»å‹çš„å˜é‡ã€‚è§£å†³åŠæ³•æ˜¯ä½¿ç”¨â€œæ³›å‹â€ã€‚</li>
</ul>
<h4 id="3-2-1-Generics-ç¤ºä¾‹ï¼šArray"><a href="#3-2-1-Generics-ç¤ºä¾‹ï¼šArray" class="headerlink" title="3.2.1 Generics ç¤ºä¾‹ï¼šArray"></a>3.2.1 Generics ç¤ºä¾‹ï¼š<code>Array</code></h4><ul>
<li><p><code>Array</code> å¯ä»¥åŒ…å«å¤šç§ç±»å‹çš„å…ƒç´ è€Œä¸å…³å¿ƒå…·ä½“ç±»å‹ã€‚</p>
</li>
<li><p><code>Array</code> çš„å£°æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Array</span>&lt;<span class="type">Element</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">append</span>(<span class="keyword">_</span> <span class="params">element</span>: <span class="type">Element</span>) &#123; <span class="operator">...</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>append</code> çš„å‚æ•°æ˜¯ <code>Element</code>ï¼Œè¡¨ç¤ºä¸€ç§â€œæ— æ‰€è°“â€ç±»å‹ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>Array</code> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå…·ä½“ç±»å‹ï¼Œå¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ­¤æ—¶ Element ä¸º Int ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()</span><br><span class="line">a.append(<span class="number">5</span>)</span><br><span class="line">a.append(<span class="number">22</span>)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ­¤æ—¶ Element ä¸º String ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line">a.append(<span class="string">&quot;ğŸŒ¼&quot;</span>)</span><br><span class="line">a.append(<span class="string">&quot;ğŸ‰&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Element</code> çš„ç±»å‹åœ¨ä½¿ç”¨ <code>Array</code> æ—¶ç¡®å®šã€‚</p>
</li>
<li><p>æ³›å‹å…è®¸åŒæ—¶ä½¿ç”¨å¤šä¸ªç±»å‹å‚æ•°ï¼ˆå¦‚ <code>&lt;Element, Foo&gt;</code>ï¼‰ã€‚</p>
</li>
<li><p>â€œæ— æ‰€è°“â€ç±»å‹ç§°ä¸º <strong>ç±»å‹å‚æ•°</strong>ã€‚</p>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œæ³›å‹èƒ½è®©æˆ‘ä»¬åœ¨ä¸çŸ¥é“å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹çµæ´»æ“ä½œæ•°æ®ç»“æ„ã€‚</p>
<h3 id="3-3-protocol-åè®®"><a href="#3-3-protocol-åè®®" class="headerlink" title="3.3 protocol åè®®"></a>3.3 protocol åè®®</h3><h4 id="3-3-1-protocol-åè®®çš„ç‰¹ç‚¹"><a href="#3-3-1-protocol-åè®®çš„ç‰¹ç‚¹" class="headerlink" title="3.3.1 protocol åè®®çš„ç‰¹ç‚¹"></a>3.3.1 protocol åè®®çš„ç‰¹ç‚¹</h4><h5 id="1-protocol-æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨"><a href="#1-protocol-æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨" class="headerlink" title="1. protocol æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨"></a><strong>1. protocol æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨</strong></h5><p>å£°æ˜ä¸€ä¸ªåè®®çš„è¯­æ³•ä¸ struct æˆ– class å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯æ²¡æœ‰å…·ä½“å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">protocol</span> <span class="title class_">Moveable</span> &#123;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">move</span>(<span class="params">by</span>: <span class="type">Int</span>)</span><br><span class="line"><span class="keyword">var</span> hasMoved: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"><span class="keyword">var</span> distanceFromStart: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><code>&#123; &#125;</code> ä¸­çš„å†…å®¹ç”¨äºè¯´æ˜è¯¥åè®®çš„å˜é‡æ˜¯åªè¯»ï¼ˆgetï¼‰è¿˜æ˜¯å¯è¯»å†™ï¼ˆget setï¼‰ã€‚</p>
<p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p>
<p>ä»»æ„ç±»å‹éƒ½å¯ä»¥å®ç° Moveable åè®®ï¼Œåªéœ€è¦åœ¨ struct å†…éƒ¨å®ç° <code>move(by)</code> ã€<code>hasMoved</code> å’Œ <code>distanceFromStart</code> æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">PortableThing</span>: <span class="title class_ inherited__">Moveable</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç° move(by:)ã€hasMoved å’Œ distanceFromStart</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ <code>PortableThing</code> ç»“æ„ä½“ä¾¿ç¬¦åˆ <code>Moveable</code> åè®®ã€‚</p>
<h5 id="2-protocol-åè®®å¯ä»¥ç»§æ‰¿å…¶ä»–-protocol"><a href="#2-protocol-åè®®å¯ä»¥ç»§æ‰¿å…¶ä»–-protocol" class="headerlink" title="2. protocol åè®®å¯ä»¥ç»§æ‰¿å…¶ä»– protocol"></a>2. <strong>protocol</strong> åè®®å¯ä»¥ç»§æ‰¿å…¶ä»– protocol</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Vehicle</span>: <span class="title class_ inherited__">Moveable</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> passengerCount: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>: <span class="title class_ inherited__">Vehicle</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç° move(by:)ã€hasMovedã€distanceFromStart å’Œ passengerCount</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®"><a href="#3-ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®" class="headerlink" title="3. ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®"></a>3. ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>: <span class="title class_ inherited__">Vehicle</span>, <span class="title class_ inherited__">Impoundable</span>, <span class="title class_ inherited__">Leasable</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç°æ‰€æœ‰åè®®ä¸­çš„å‡½æ•°å’Œå˜é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-protocol-åè®®çš„ç”¨é€”"><a href="#3-3-2-protocol-åè®®çš„ç”¨é€”" class="headerlink" title="3.3.2 protocol åè®®çš„ç”¨é€”"></a>3.3.2 protocol åè®®çš„ç”¨é€”</h4><ol>
<li><p><strong>ç»Ÿä¸€è¡Œä¸ºå®šä¹‰</strong></p>
<p>åè®®å¯ä»¥ç”¨äºå®šä¹‰ä¸€ç»„ç±»å‹çš„å…±åŒè¡Œä¸ºï¼Œè€Œæ— éœ€å…³å¿ƒè¿™äº›ç±»å‹çš„å…·ä½“å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Bird</span>: <span class="title class_ inherited__">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>() &#123;</span><br><span class="line">	  <span class="built_in">print</span>(<span class="string">&quot;Bird is flying!&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Airplane</span>: <span class="title class_ inherited__">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>() &#123;</span><br><span class="line">	  <span class="built_in">print</span>(<span class="string">&quot;Airplane is flying!&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> flyer: [<span class="type">Flyable</span>] <span class="operator">=</span> [<span class="type">Bird</span>(), <span class="type">Airplane</span>()]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> flyer &#123;</span><br><span class="line">  item.fly()  <span class="comment">// ä¸åŒç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Flyable å®šä¹‰äº†æ‰€æœ‰å¯é£è¡Œçš„ç±»å‹åº”å…·å¤‡çš„è¡Œä¸ºã€‚</li>
<li>é€šè¿‡åè®®ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç† Bird å’Œ Airplane ç­‰ç¬¦åˆåè®®çš„ç±»å‹ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œæ¯”å¦‚ï¼Œ<code>struct ContentView: View</code>Â  ä½¿å¾— Â <code>ContentView</code>Â  æˆä¸ºä¸€ä¸ªå¼ºå¤§çš„ç»“æ„ä½“ï¼Œè™½ç„¶éœ€è¦å®ç° Â <code>var body</code>Â  æ¥æ»¡è¶³ Â <code>View</code>Â  åè®®ã€‚</p>
</li>
<li><p><strong>åè®®ä¸æ³›å‹</strong></p>
<p>åè®®å¯ä»¥ä¸æ³›å‹ç»“åˆï¼Œçº¦æŸæ³›å‹å‚æ•°å¿…é¡»ç¬¦åˆæŸäº›åè®®ï¼Œä»è€Œæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">printDetails</span>&lt;<span class="type">T</span>: <span class="type">CustomStringConvertible</span>&gt;(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">T</span>) &#123;</span><br><span class="line">  <span class="built_in">print</span>(item.description)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printDetails(<span class="number">42</span>)            <span class="comment">// è¾“å‡ºï¼š42</span></span><br><span class="line">printDetails(<span class="string">&quot;Swift Rocks&quot;</span>) <span class="comment">// è¾“å‡ºï¼šSwift Rocks</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>æ³›å‹å‚æ•° T å¿…é¡»ç¬¦åˆ CustomStringConvertible åè®®ã€‚</li>
<li>è¿™ç§çº¦æŸç¡®ä¿å‡½æ•°å¯ä»¥ä½¿ç”¨ description å±æ€§ï¼Œè€Œä¸ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</li>
</ul>
<h4 id="3-3-3-å¸¸è§åè®®ç¤ºä¾‹"><a href="#3-3-3-å¸¸è§åè®®ç¤ºä¾‹" class="headerlink" title="3.3.3 å¸¸è§åè®®ç¤ºä¾‹"></a>3.3.3 å¸¸è§åè®®ç¤ºä¾‹</h4><p>å¸¸è§åè®®åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>Identifiable</strong></li>
<li><strong>Hashable</strong></li>
<li><strong>Equatable</strong></li>
<li><strong>CustomStringConvertible</strong></li>
<li>ç‰¹å®šçš„åè®®å¦‚ <strong>Animatable</strong>ã€‚</li>
</ul>
<h4 id="3-3-4-åè®®çš„ä¼˜ç‚¹"><a href="#3-3-4-åè®®çš„ä¼˜ç‚¹" class="headerlink" title="3.3.4 åè®®çš„ä¼˜ç‚¹"></a>3.3.4 åè®®çš„ä¼˜ç‚¹</h4><ol>
<li><strong>å®šä¹‰è¡Œä¸ºçš„è“å›¾</strong>ï¼šç”¨äºç»Ÿä¸€å®šä¹‰ä¸€ç»„è¡Œä¸ºï¼ˆæ–¹æ³•ã€å±æ€§ï¼‰ã€‚</li>
<li><strong>å®ç°å¤šæ€æ€§</strong>ï¼šä½¿ä¸åŒç±»å‹å¯ä»¥é€šè¿‡ç»Ÿä¸€æ¥å£äº¤äº’ã€‚</li>
<li><strong>æ³›å‹çº¦æŸ</strong>ï¼šæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œå¤ç”¨æ€§ã€‚</li>
<li><strong>åè®®æ‰©å±•</strong>ï¼šå‡å°‘é‡å¤ä»£ç ï¼Œä¸ºåè®®æä¾›é»˜è®¤å®ç°ã€‚</li>
<li><strong>çµæ´»ç»„åˆ</strong>ï¼šé€šè¿‡åè®®ç»„åˆæ„å»ºæ›´å¼ºå¤§çš„æ¥å£ã€‚</li>
</ol>
<h3 id="3-4-enum"><a href="#3-4-enum" class="headerlink" title="3.4 enum"></a>3.4 <code>enum</code></h3><blockquote>
<p>æœ¬èŠ‚ç•¥è¿‡ï¼Œä½†å¾ˆé‡è¦ã€‚</p>
</blockquote>
<h3 id="3-5-Functions"><a href="#3-5-Functions" class="headerlink" title="3.5 Functions"></a>3.5 Functions</h3><p>å‡½æ•°ç±»å‹å¯ä»¥åƒå…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œç”±å‚æ•°ç±»å‹åˆ—è¡¨å’Œè¿”å›ç±»å‹ç»„æˆã€‚è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(å‚æ•°ç±»å‹åˆ—è¡¨) -&gt; è¿”å›ç±»å‹</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">square</span>(<span class="params">operand</span>: <span class="type">Double</span>) -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> operand <span class="operator">*</span> operand</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> operation <span class="operator">=</span> square <span class="comment">// just assigning a value to the operation vars, nothing more</span></span><br><span class="line"><span class="keyword">let</span> result1 <span class="operator">=</span> operation(<span class="number">4</span>) <span class="comment">// result1 would equal 16</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>square</code> å‡½æ•°çš„ç±»å‹ï¼š<code>(Double) -&gt; Double</code>ï¼Œè¡¨ç¤ºæ¥æ”¶ä¸€ä¸ª <code>Double</code> å‚æ•°å¹¶è¿”å›ä¸€ä¸ª <code>Doubel</code> å€¼ã€‚</li>
<li><code>operation</code> æ˜¯ä¸€ä¸ªå˜é‡ï¼šå­˜å‚¨äº†å‡½æ•° <code>square</code>ï¼Œå¯ä»¥é€šè¿‡å˜é‡è°ƒç”¨ã€‚</li>
</ul>
<p><strong>å‡½æ•°ç±»å‹ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><code>(Int, Int) -&gt; Bool</code>ï¼šæ¥å—ä¸¤ä¸ª Int ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª Bool å€¼ã€‚</li>
<li><code>(Double) -&gt; Void</code>ï¼šæ¥å—ä¸€ä¸ª Double ç±»å‹å‚æ•°ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li><code>() -&gt; Array&lt;String&gt;</code>ï¼šä¸æ¥å—å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª String æ•°ç»„ã€‚</li>
<li><code>() -&gt; Void</code>ï¼šä¸æ¥å—å‚æ•°ï¼Œæ— è¿”å›å€¼ï¼ˆè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„ç”¨æ³•ï¼‰ã€‚</li>
</ul>
<p>åœ¨ Swift ä¸­ï¼Œå‡½æ•°ç±»å‹å¯ä»¥åƒå…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œå¯ä»¥å­˜å‚¨å‡½æ•°å¹¶é€šè¿‡å˜é‡è°ƒç”¨ã€‚</p>
<h4 id="3-5-1-é—­åŒ…ç±»å‹ï¼ˆFunction-as-typeï¼‰"><a href="#3-5-1-é—­åŒ…ç±»å‹ï¼ˆFunction-as-typeï¼‰" class="headerlink" title="3.5.1 é—­åŒ…ç±»å‹ï¼ˆFunction as typeï¼‰"></a>3.5.1 é—­åŒ…ç±»å‹ï¼ˆFunction as typeï¼‰</h4><p>å‡½æ•°ç±»å‹ä¹Ÿé€‚ç”¨äºé—­åŒ…ã€‚é—­åŒ…æ˜¯æœªå‘½åçš„å‡½æ•°ï¼Œå®ƒçš„è¯­æ³•æ›´åŠ ç®€æ´ã€‚ä½ å¯ä»¥å°†é—­åŒ…å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œæˆ–ç›´æ¥ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€œå†…è”å‡½æ•°â€ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> operation: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="operator">=</span> &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">+</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(operation(<span class="number">4</span>, <span class="number">6</span>))  <span class="comment">// è¾“å‡ºï¼š10</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ Swift ä¸­ï¼Œè®¸å¤š SwiftUI çš„åŠŸèƒ½ï¼ˆå¦‚@ViewBuilders å’Œ onTapGesture çš„åŠ¨ä½œï¼‰éƒ½æ˜¯é€šè¿‡é—­åŒ…å®ç°çš„ã€‚</p>
<h2 id="4-Demo"><a href="#4-Demo" class="headerlink" title="4. Demo"></a>4. Demo</h2><p>ç”±äº demo å¤ªçŸ­ï¼ˆå¤§çº¦åªæœ‰ 15 åˆ†é’Ÿï¼‰ï¼Œå°†è¿™èŠ‚è¯¾çš„ demo åˆå¹¶åˆ°ä¸‹ä¸€ç¯‡ç¬”è®°ä¸­ã€‚</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>æ¬£èµæ­¤æ–‡ï¼Ÿæ±‚é¼“åŠ±ï¼Œæ±‚æ”¯æŒï¼</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="Serein å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Serein æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
      <div>
     
       
<div class="my_post_copyright">
  <div style="text-align:center;color: #ccc;font-size:14px;">------ ç‰ˆæƒå£°æ˜ ------</div>
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/" title="Stanford cs193p 03ï½œMVVM">https://aricyq0.github.io/2024/12/06/Stanford-cs193p-03ï½œMVVM/</a>
    <button class="copy-button" style="cursor: pointer; margin-left: 6px; border: none; background: none;" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥">
      <i class="fa fa-clipboard" aria-label="å¤åˆ¶"></i>
    </button>
    <span class="copy-success" style="margin-left: 5px; display: none; color: #999; font-size: 14px;">å¤åˆ¶æˆåŠŸ</span>
  </p>
  <p><span style="margin-right: 4px;">ç‰ˆæƒç”³æ˜:</span>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</a>è®¸å¯åè®®ã€‚è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>  
</div>
<script> 
  document.addEventListener('DOMContentLoaded', function() {
    var clipboard = new ClipboardJS('.copy-button', {
      text: function() {
        return window.location.origin + '/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/';
      }
    });
    
    clipboard.on('success', function(e) {
      var successTip = document.querySelector('.copy-success');
      successTip.style.display = 'inline';
      setTimeout(function() {
        successTip.style.display = 'none';
      }, 1000);
    });
  });
</script>

     
</div>
          
          <div class="post-tags">
              <a href="/tags/cs193p/" rel="tag"><i class="fa fa-tag"></i> cs193p</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/" rel="prev" title="Stanford cs193p 02 | More SwiftUI">
      <i class="fa fa-chevron-left"></i> Stanford cs193p 02 | More SwiftUI
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/" rel="next" title="Stanford cs193p 04ï½œMVVM åº”ç”¨">
      Stanford cs193p 04ï½œMVVM åº”ç”¨ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-%E6%9C%AC%E8%8A%82%E6%A1%86%E6%9E%B6"><span class="nav-text">0. æœ¬èŠ‚æ¡†æ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Model-and-UI"><span class="nav-text">1. Model and UI</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-%E5%B0%86%E2%80%9C%E9%80%BB%E8%BE%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E2%80%9D%E4%B8%8E%E2%80%9C%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E2%80%9D%E5%88%86%E7%A6%BB"><span class="nav-text">1.1 å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-%E5%B0%86%E6%A8%A1%E5%9E%8B%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2"><span class="nav-text">1.2 å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-MVVM"><span class="nav-text">2. MVVM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-MVVM-%E7%AE%80%E4%BB%8B"><span class="nav-text">2.1 MVVM ç®€ä»‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-MVVM-%E7%89%B9%E7%82%B9"><span class="nav-text">2.2 MVVM ç‰¹ç‚¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9C%A8-MVVM-%E4%B8%AD%E7%9A%84%E8%BF%90%E4%BD%9C"><span class="nav-text">2.3 æ•°æ®æµåœ¨ MVVM ä¸­çš„è¿ä½œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E8%A1%A5%E5%85%85%E4%B8%BE%E4%BE%8B%EF%BC%88%E9%9D%9E%E8%A7%86%E9%A2%91%E5%86%85%E5%AE%B9%EF%BC%89"><span class="nav-text">2.4 è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-%E6%A8%A1%E5%9E%8B%E5%B1%82%EF%BC%88Model%EF%BC%89"><span class="nav-text">2.4.1 æ¨¡å‹å±‚ï¼ˆModelï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-%E8%A7%86%E5%9B%BE%E6%A8%A1%E5%9E%8B%E5%B1%82%EF%BC%88ViewModel%EF%BC%89"><span class="nav-text">2.4.2 è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-3-%E8%A7%86%E5%9B%BE%E5%B1%82%EF%BC%88View%EF%BC%89"><span class="nav-text">2.4.3 è§†å›¾å±‚ï¼ˆViewï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Varieties-of-Types"><span class="nav-text">3. Varieties of Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-struct-and-class"><span class="nav-text">3.1 struct and class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-1-struct-class-%E5%85%B1%E5%90%8C%E7%82%B9"><span class="nav-text">3.1.1 struct &amp; class å…±åŒç‚¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-2-struct-vs-class-%E5%8C%BA%E5%88%AB"><span class="nav-text">3.1.2 struct vs class åŒºåˆ«</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Generics-%E6%B3%9B%E5%9E%8B"><span class="nav-text">3.2 Generics æ³›å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-1-Generics-%E7%A4%BA%E4%BE%8B%EF%BC%9AArray"><span class="nav-text">3.2.1 Generics ç¤ºä¾‹ï¼šArray</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-protocol-%E5%8D%8F%E8%AE%AE"><span class="nav-text">3.3 protocol åè®®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-1-protocol-%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-text">3.3.1 protocol åè®®çš„ç‰¹ç‚¹</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-protocol-%E6%9C%89%E5%87%BD%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%EF%BC%8C%E4%BD%86%E4%B8%8D%E8%83%BD%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0%E6%88%96%E5%AD%98%E5%82%A8"><span class="nav-text">1. protocol æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-protocol-%E5%8D%8F%E8%AE%AE%E5%8F%AF%E4%BB%A5%E7%BB%A7%E6%89%BF%E5%85%B6%E4%BB%96-protocol"><span class="nav-text">2. protocol åè®®å¯ä»¥ç»§æ‰¿å…¶ä»– protocol</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E5%AE%9E%E7%8E%B0%E5%A4%9A%E4%B8%AA%E5%8D%8F%E8%AE%AE"><span class="nav-text">3. ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-2-protocol-%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%94%A8%E9%80%94"><span class="nav-text">3.3.2 protocol åè®®çš„ç”¨é€”</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-3-%E5%B8%B8%E8%A7%81%E5%8D%8F%E8%AE%AE%E7%A4%BA%E4%BE%8B"><span class="nav-text">3.3.3 å¸¸è§åè®®ç¤ºä¾‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-4-%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BC%98%E7%82%B9"><span class="nav-text">3.3.4 åè®®çš„ä¼˜ç‚¹</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-enum"><span class="nav-text">3.4 enum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-Functions"><span class="nav-text">3.5 Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-1-%E9%97%AD%E5%8C%85%E7%B1%BB%E5%9E%8B%EF%BC%88Function-as-type%EF%BC%89"><span class="nav-text">3.5.1 é—­åŒ…ç±»å‹ï¼ˆFunction as typeï¼‰</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Demo"><span class="nav-text">4. Demo</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Serein"
      src="/uploads/avatar.JPEG">
  <p class="site-author-name" itemprop="name">Serein</p>
  <div class="site-description" itemprop="description">Crazy learning, crazy sharing.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Aricyq0" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Aricyq0" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ari.cyq@gmail.com" title="E-Mail â†’ mailto:ari.cyq@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2024 â€“ 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Serein</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">122k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:51</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> å¼ºåŠ›é©±åŠ¨
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
